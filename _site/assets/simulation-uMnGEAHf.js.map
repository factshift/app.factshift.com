{"version":3,"file":"simulation-uMnGEAHf.js","sources":["../../src/js/simulation/nodes/attr/href.js","../../src/js/simulation/rects/data/default.js","../../src/js/simulation/simulation.js"],"sourcesContent":["export function getNodeImageHref(d) {\n  return null;\n  if (d.image.href === null) return null;\n  return d.image.href || window.spwashi.images[(d.colorindex || 0) % (window.spwashi.images.length)];\n}","export function getDefaultRects() {\n  return [\n    {\n      title: 'Counter',\n      x:     0,\n      width: 0,\n      calc:  d => d.width = window.spwashi.counter * 1\n    },\n    {\n      title: 'Alpha',\n      x:     0,\n      width: 0,\n      calc:  d => d.width = window.spwashi.simulation.alpha() * (window.spwashi.parameters.width || 0)\n    },\n    {\n      title: 'Alpha Decay',\n      x:     0,\n      width: 0,\n      calc:  d => d.width = window.spwashi.simulation.alphaDecay() * (window.spwashi.parameters.width || 0)\n    },\n    {\n      title: 'Charge',\n      x:     0,\n      width: 0,\n      calc:  d => {\n        d.title = 'Charge: ' + window.spwashi.parameters.forces.charge;\n        d.width = window.spwashi.parameters.forces.charge;\n      }\n    },\n    {\n      title: 'Velocity Decay',\n      x:     0,\n      width: 0,\n      calc:  d => d.width = window.spwashi.simulation.velocityDecay() * (window.spwashi.parameters.width || 0)\n    },\n    {\n      title: 'Zoom',\n      x:     0,\n      width: 1,\n      calc:  d => d.title = `Zoom: ${window.spwashi.zoomTransform?.k || 1}`\n    },\n    {\n      title: 'Node Quantity',\n      x:     0,\n      width: 0,\n      calc:  d => {\n        let nodeCount = window.spwashi.nodes.length;\n        d.title       = 'Node Count: ' + nodeCount;\n\n        return d.width = nodeCount;\n      }\n    },\n    {\n      title: 'Node Queue Count',\n      x:     0,\n      width: 0,\n      calc:  d => {\n        const nodeCount = window.spwashi.parameters.nodes.count;\n\n        d.title = 'Node Queue Count: ' + nodeCount;\n        d.width = nodeCount;\n      }\n    },\n  ].map((r, i) => {\n    r.height = 20;\n    r.y      = i * 20;\n    return r;\n  });\n}","import {NODE_MANAGER}           from \"./nodes/nodes\";\nimport {forceSimulation}        from \"d3\";\nimport {getNodeImageHref}       from \"./nodes/attr/href\";\nimport {getDefaultRects} from \"./rects/data/default\";\nimport {reinit}          from \"./reinit\";\n\n\nfunction initNodes() {\n  window.spwashi.clearCachedNodes = () => {\n    window.spwashi.setItem('nodes', []);\n  }\n  window.spwashi.getNodeImageHref = getNodeImageHref;\n  window.spwashi.getNode          = NODE_MANAGER.getNode;\n  window.spwashi.nodes            = window.spwashi.nodes || [];\n}\n\nfunction initEdges() {\n  window.spwashi.links = window.spwashi.links || [];\n}\n\nfunction initRects() {\n  window.spwashi.rects = window.spwashi.rects || getDefaultRects();\n}\n\nexport async function initSimulationRoot() {\n  window.spwashi.reinit     = reinit;\n  window.spwashi.simulation = forceSimulation();\n  initNodes();\n  initEdges();\n  initRects();\n}"],"names":["getNodeImageHref","d","getDefaultRects","_a","nodeCount","r","i","initNodes","NODE_MANAGER","initEdges","initRects","initSimulationRoot","reinit","forceSimulation"],"mappings":"sDAAO,SAASA,EAAiBC,EAAG,CAClC,OAAO,IAGT,CCJO,SAASC,GAAkB,CAChC,MAAO,CACL,CACE,MAAO,UACP,EAAO,EACP,MAAO,EACP,KAAOD,GAAKA,EAAE,MAAQ,OAAO,QAAQ,QAAU,CAChD,EACD,CACE,MAAO,QACP,EAAO,EACP,MAAO,EACP,KAAOA,GAAKA,EAAE,MAAQ,OAAO,QAAQ,WAAW,MAAK,GAAM,OAAO,QAAQ,WAAW,OAAS,EAC/F,EACD,CACE,MAAO,cACP,EAAO,EACP,MAAO,EACP,KAAOA,GAAKA,EAAE,MAAQ,OAAO,QAAQ,WAAW,WAAU,GAAM,OAAO,QAAQ,WAAW,OAAS,EACpG,EACD,CACE,MAAO,SACP,EAAO,EACP,MAAO,EACP,KAAOA,GAAK,CACVA,EAAE,MAAQ,WAAa,OAAO,QAAQ,WAAW,OAAO,OACxDA,EAAE,MAAQ,OAAO,QAAQ,WAAW,OAAO,MAC5C,CACF,EACD,CACE,MAAO,iBACP,EAAO,EACP,MAAO,EACP,KAAOA,GAAKA,EAAE,MAAQ,OAAO,QAAQ,WAAW,cAAa,GAAM,OAAO,QAAQ,WAAW,OAAS,EACvG,EACD,CACE,MAAO,OACP,EAAO,EACP,MAAO,EACP,KAAOA,GAAC,OAAI,OAAAA,EAAE,MAAQ,WAASE,EAAA,OAAO,QAAQ,gBAAf,YAAAA,EAA8B,IAAK,CAAC,GACpE,EACD,CACE,MAAO,gBACP,EAAO,EACP,MAAO,EACP,KAAOF,GAAK,CACV,IAAIG,EAAY,OAAO,QAAQ,MAAM,OACrC,OAAAH,EAAE,MAAc,eAAiBG,EAE1BH,EAAE,MAAQG,CAClB,CACF,EACD,CACE,MAAO,mBACP,EAAO,EACP,MAAO,EACP,KAAOH,GAAK,CACV,MAAMG,EAAY,OAAO,QAAQ,WAAW,MAAM,MAElDH,EAAE,MAAQ,qBAAuBG,EACjCH,EAAE,MAAQG,CACX,CACF,CACL,EAAI,IAAI,CAACC,EAAGC,KACRD,EAAE,OAAS,GACXA,EAAE,EAASC,EAAI,GACRD,EACR,CACH,CC7DA,SAASE,GAAY,CACnB,OAAO,QAAQ,iBAAmB,IAAM,CACtC,OAAO,QAAQ,QAAQ,QAAS,CAAE,CAAA,CACnC,EACD,OAAO,QAAQ,iBAAmBP,EAClC,OAAO,QAAQ,QAAmBQ,EAAa,QAC/C,OAAO,QAAQ,MAAmB,OAAO,QAAQ,OAAS,EAC5D,CAEA,SAASC,GAAY,CACnB,OAAO,QAAQ,MAAQ,OAAO,QAAQ,OAAS,EACjD,CAEA,SAASC,GAAY,CACnB,OAAO,QAAQ,MAAQ,OAAO,QAAQ,OAASR,GACjD,CAEO,eAAeS,GAAqB,CACzC,OAAO,QAAQ,OAAaC,EAC5B,OAAO,QAAQ,WAAaC,IAC5BN,IACAE,IACAC,GACF"}