{"version":3,"file":"reinit-hQkSLx1c.js","sources":["../../src/js/simulation/rects/rects.js","../../src/js/simulation/reinit.js"],"sourcesContent":["function update(g, rects) {\n  g.select('.rects')\n   .selectAll('g.rect')\n   .data(rects, d => d.title)\n   .join(e => {\n           const g = e.append('g')\n                      .classed('rect', true);\n\n           const rect = g.append('rect')\n                         .attr('width', d => Math.abs(d.width))\n                         .attr('height', d => d.height || 5)\n                         .attr('x', d => d.x)\n                         .attr('y', d => d.y)\n                         .attr('fill', d => d.fill || 'teal')\n                         .attr('stroke', 'yellow')\n                         .attr('stroke-width', 1)\n                         .attr('pointer-events', 'all')\n                         .on('click', () => {\n\n                         })\n           g.append('text')\n            .attr('text-anchor', 'start')\n            .attr('x', d => 30)\n            .attr('y', d => d.y + 15)\n            .text(d => d.title)\n\n         },\n         u => {\n           u\n             .selectAll('rect')\n             .attr('fill', d => d.fill || 'teal')\n             .attr('width', d => Math.abs(d.width || 0))\n             .attr('height', d => Math.abs(d.height || 0))\n             .attr('y', d => d.y)\n             .attr('x', d => d.x);\n           u.selectAll('text')\n            .text(d => d.title)\n         })\n\n}\n\nexport const RECT_MANAGER = {\n  initRects:   rects => rects,\n  updateRects: update\n};","import {NODE_MANAGER}                          from \"./nodes/nodes\";\nimport {EDGE_MANAGER}                          from \"./edges/edges\";\nimport {RECT_MANAGER}                          from \"./rects/rects\";\nimport {initializeForces}                      from \"./forces\";\nimport {initSvgProperties, simulationElements} from \"./basic\";\n\n\n// todo this is large, consider dynamic import\nexport function reinit() {\n  initSvgProperties(simulationElements.svg);\n\n  window.spwashi.counter = 0;\n\n  const nodes = NODE_MANAGER.initNodes(window.spwashi.nodes);\n  const edges = EDGE_MANAGER.initLinks(nodes);\n  const rects = RECT_MANAGER.initRects(window.spwashi.rects);\n\n  const simulation = window.spwashi.simulation;\n  simulation.nodes(nodes);\n\n  initializeForces();\n\n  window.spwashi.tick           = () => {\n    simulation.tick(1);\n    window.spwashi.internalTicker();\n  };\n  window.spwashi.internalTicker = () => {\n    window.spwashi.counter += 1;\n    rects.forEach(d => d.calc(d));\n    EDGE_MANAGER.updateLinks(simulationElements.wrapper, edges);\n    NODE_MANAGER.updateNodes(simulationElements.wrapper, nodes);\n    RECT_MANAGER.updateRects(simulationElements.wrapper, rects);\n  };\n\n  simulation.on('tick', window.spwashi.internalTicker);\n\n  document.querySelector('#output').innerHTML = JSON.stringify(window.spwashi.parameters, null, 2);\n}"],"names":["update","g","rects","d","e","u","RECT_MANAGER","reinit","initSvgProperties","simulationElements","nodes","NODE_MANAGER","edges","EDGE_MANAGER","simulation","initializeForces"],"mappings":"mEAAA,SAASA,EAAOC,EAAGC,EAAO,CACxBD,EAAE,OAAO,QAAQ,EACf,UAAU,QAAQ,EAClB,KAAKC,EAAOC,GAAKA,EAAE,KAAK,EACxB,KAAKC,GAAK,CACH,MAAMH,EAAIG,EAAE,OAAO,GAAG,EACV,QAAQ,OAAQ,EAAI,EAEnBH,EAAE,OAAO,MAAM,EACb,KAAK,QAASE,GAAK,KAAK,IAAIA,EAAE,KAAK,CAAC,EACpC,KAAK,SAAUA,GAAKA,EAAE,QAAU,CAAC,EACjC,KAAK,IAAKA,GAAKA,EAAE,CAAC,EAClB,KAAK,IAAKA,GAAKA,EAAE,CAAC,EAClB,KAAK,OAAQA,GAAKA,EAAE,MAAQ,MAAM,EAClC,KAAK,SAAU,QAAQ,EACvB,KAAK,eAAgB,CAAC,EACtB,KAAK,iBAAkB,KAAK,EAC5B,GAAG,QAAS,IAAM,CAE5C,CAA0B,EACfF,EAAE,OAAO,MAAM,EACb,KAAK,cAAe,OAAO,EAC3B,KAAK,IAAKE,GAAK,EAAE,EACjB,KAAK,IAAKA,GAAKA,EAAE,EAAI,EAAE,EACvB,KAAKA,GAAKA,EAAE,KAAK,CAEpB,EACDE,GAAK,CACHA,EACG,UAAU,MAAM,EAChB,KAAK,OAAQF,GAAKA,EAAE,MAAQ,MAAM,EAClC,KAAK,QAASA,GAAK,KAAK,IAAIA,EAAE,OAAS,CAAC,CAAC,EACzC,KAAK,SAAUA,GAAK,KAAK,IAAIA,EAAE,QAAU,CAAC,CAAC,EAC3C,KAAK,IAAKA,GAAKA,EAAE,CAAC,EAClB,KAAK,IAAKA,GAAKA,EAAE,CAAC,EACrBE,EAAE,UAAU,MAAM,EAChB,KAAKF,GAAKA,EAAE,KAAK,CAC9B,CAAU,CAEV,CAEO,MAAMG,EAAe,CAC1B,UAAaJ,GAASA,EACtB,YAAaF,CACf,ECpCO,SAASO,GAAS,CACvBC,EAAkBC,EAAmB,GAAG,EAExC,OAAO,QAAQ,QAAU,EAEzB,MAAMC,EAAQC,EAAa,UAAU,OAAO,QAAQ,KAAK,EACnDC,EAAQC,EAAa,UAAUH,CAAK,EACpCR,EAAQI,EAAa,UAAU,OAAO,QAAQ,KAAK,EAEnDQ,EAAa,OAAO,QAAQ,WAClCA,EAAW,MAAMJ,CAAK,EAEtBK,IAEA,OAAO,QAAQ,KAAiB,IAAM,CACpCD,EAAW,KAAK,CAAC,EACjB,OAAO,QAAQ,gBACnB,EACE,OAAO,QAAQ,eAAiB,IAAM,CACpC,OAAO,QAAQ,SAAW,EAC1BZ,EAAM,QAAQC,GAAKA,EAAE,KAAKA,CAAC,CAAC,EAC5BU,EAAa,YAAYJ,EAAmB,QAASG,CAAK,EAC1DD,EAAa,YAAYF,EAAmB,QAASC,CAAK,EAC1DJ,EAAa,YAAYG,EAAmB,QAASP,CAAK,CAC9D,EAEEY,EAAW,GAAG,OAAQ,OAAO,QAAQ,cAAc,EAEnD,SAAS,cAAc,SAAS,EAAE,UAAY,KAAK,UAAU,OAAO,QAAQ,WAAY,KAAM,CAAC,CACjG"}