{"version":3,"file":"keystrokes-KWbeOjQY.js","sources":["../../src/js/simulation/edges/data/select.js","../../src/js/init/hotkeys/handlers/toggle-focal-point.js","../../src/js/init/hotkeys/handlers/clear-cached-nodes.js","../../src/js/init/hotkeys/handlers/clear-fixed-positions.js","../../src/js/init/hotkeys/handlers/fix-positions.js","../../src/js/init/hotkeys/handlers/less-nodes.js","../../src/js/init/hotkeys/handlers/bonk-velocity-decay.js","../../src/js/init/hotkeys/handlers/more-nodes.js","../../src/js/init/hotkeys/handlers/reset-interface.js","../../src/js/init/hotkeys/handlers/toggle-main-menu.js","../../src/js/init/hotkeys/keystrokes.js"],"sourcesContent":["export function getAllLinks() {\n  return window.spwashi.links;\n}","export const toggleFocalPoint = () => {\n  const button               = document.querySelector('#focal-square');\n  const wasInactive          = button.dataset.focalStatus !== 'active';\n  const nextStatus           = !wasInactive ? 'inactive' : 'active';\n  button.disabled            = nextStatus === 'inactive';\n  button.dataset.focalStatus = nextStatus;\n};","export function clearCachedNodes() {\n  window.spwashi.clearCachedNodes();\n}","import {forEachNode} from \"../../../simulation/nodes/data/operate\";\n\nexport function clearFixedPositions() {\n  forEachNode(node => {\n    node.fx = undefined;\n    node.fy = undefined;\n  });\n}","import {forEachNode} from \"../../../simulation/nodes/data/operate\";\n\nexport function fixPositions() {\n  forEachNode(node => {\n    node.fx = node.x;\n    node.fy = node.y;\n  });\n}","import {removeNodes} from \"../../../simulation/nodes/data/set\";\n\nexport function lessNodes() {\n  const amountToRemove = window.spwashi.parameters.nodes.count;\n  removeNodes(amountToRemove);\n window.spwashi.reinit();\n}","export function bonkVelocityDecay() {\n  window.spwashi.parameters.forces.velocityDecay = window.spwashi.parameters.forces.velocityDecay === 0.1 ? 0.9 : 0.1;\n  window.spwashi.reinit();\n}","import {generateNodes} from \"../../../simulation/nodes/data/generate\";\n\nexport function moreNodes() {\n  generateNodes();\n}","import {getNextUrlSearchParams} from \"../../../util/next-url\";\n\nfunction getNextHref(nextParams) {\n  const href = window.location.href.split('?')[0];\n  return `${href}?${nextParams.toString()}`;\n}\n\nexport function resetInterface() {\n  window.localStorage.clear();\n  const nextParams     = getNextUrlSearchParams();\n  window.location.href = getNextHref(nextParams);\n}","import {MAIN_MENU_OPTION, MINIMALISM_OPTION, STANDARD_OPTION, toggleInterfaceDepthOptions} from \"../../../util/toggle-interface-depth\";\n\nexport function toggleMainMenu() {\n  toggleInterfaceDepthOptions([\n                                MAIN_MENU_OPTION,\n                                !window.spwashi.minimalism ? STANDARD_OPTION : MINIMALISM_OPTION\n                              ]);\n}","import {removeAllNodes}      from \"../../simulation/nodes/data/set\";\nimport {removeAllLinks}      from \"../../simulation/edges/data/set\";\nimport {duplicateNode}       from \"../../modes/direct/mode-direct\";\nimport {getAllNodes}         from \"../../simulation/nodes/data/selectors/multiple\";\nimport {getAllLinks}         from \"../../simulation/edges/data/select\";\nimport {setDocumentMode}     from \"../../modes\";\nimport {toggleFocalPoint}    from \"./handlers/toggle-focal-point\";\nimport {clearCachedNodes}    from \"./handlers/clear-cached-nodes\";\nimport {clearFixedPositions} from \"./handlers/clear-fixed-positions\";\nimport {fixPositions}        from \"./handlers/fix-positions\";\nimport {clearActiveNodes}    from \"./handlers/clear-active-nodes\";\nimport {saveActiveNodes}     from \"./handlers/save-active-nodes\";\nimport {lessNodes}           from \"./handlers/less-nodes\";\nimport {bonkVelocityDecay}   from \"./handlers/bonk-velocity-decay\";\nimport {toggleHotkeyMenu}    from \"./handlers/toggle-hotkey-menu\";\nimport {moreNodes}           from \"./handlers/more-nodes\";\n\nimport {resetInterface} from \"./handlers/reset-interface\";\nimport {toggleMainMenu} from \"./handlers/toggle-main-menu\";\n\nexport const initialKeyStrokeOptions = [\n  {revealOrder: 0, shortcut: 'ArrowUp', categories: ['nodes'], shortcutName: '↑', title: 'more', callback: moreNodes},\n  {revealOrder: 0, shortcut: '[', categories: ['this'], title: 'toggle main menu', callback: () => { toggleMainMenu(); }},\n  {revealOrder: 0, shortcut: ']', categories: ['this'], title: 'toggle focal point', callback: toggleFocalPoint},\n  {revealOrder: 0, shortcut: '/', categories: ['this'], title: 'toggle hotkey menu', callback: () => toggleHotkeyMenu()},\n  {\n    revealOrder: 0, shortcut: 'y', categories: ['this'], title: 'yoink', callback: () => {\n      const nodes = getAllNodes();\n      const links = getAllLinks();\n      nodes.forEach(node => {\n        node.fx = undefined;\n        node.fy = undefined;\n      });\n      // remove all forces\n      window.spwashi.simulation.force('center', null);\n      window.spwashi.simulation.force('charge', null);\n      window.spwashi.simulation.force('link', null);\n      window.spwashi.simulation.force('collide', null);\n      window.spwashi.simulation.force(\n        'center',\n        (alpha) => {\n          const nodes = getAllNodes();\n          const n     = nodes.length;\n          let cx      = 0;\n          let cy      = 0;\n          for (let i = 0; i < n; ++i) {\n            cx += nodes[i].x;\n            cy += nodes[i].y;\n          }\n          cx /= n;\n          cy /= n;\n          for (let i = 0; i < n; ++i) {\n            const d = nodes[i];\n            d.x -= cx;\n            d.y -= cy;\n            if (d.x < 10 || d.y < 10) {\n              d.r = 10;\n            }\n          }\n        }\n      );\n      window.navigator.clipboard.writeText(JSON.stringify({nodes: nodes.map(n => duplicateNode(n)), links}));\n      setTimeout(() => {\n        removeAllNodes();\n        removeAllLinks();\n        window.spwashi.reinit();\n      }, 300);\n      setDocumentMode('');\n    }\n  },\n  {revealOrder: 1, shortcut: '<space>'},\n  {revealOrder: 1, shortcut: ';', categories: ['forces', 'velocity decay'], shortcutName: ';', title: 'bonk', callback: bonkVelocityDecay,},\n  // {revealOrder: 1, shortcut: 'ArrowLeft', categories: ['forces', 'charge'], shortcutName: '←', title: 'decrease charge', callback: decreaseCharge,},\n  // {revealOrder: 1, shortcut: 'ArrowRight', categories: ['forces', 'charge'], shortcutName: '→', title: 'increase charge', callback: increaseCharge},\n  {revealOrder: 1, shortcut: '<space>'},\n  {revealOrder: 1, shortcut: '.', categories: ['nodes'], title: 'fix position', callback: fixPositions},\n  {revealOrder: 1, shortcut: ',', categories: ['nodes'], title: 'unfix position', callback: clearFixedPositions},\n  {revealOrder: 1, shortcut: '<space>'},\n  {revealOrder: 1, shortcut: 'k', categories: ['data'], title: 'clear nodes', callback: clearActiveNodes},\n  {revealOrder: 1, shortcut: '-', categories: ['data', 'cache'], title: 'clear node cache', callback: clearCachedNodes},\n  // {revealOrder: 1, shortcut: 'c', categories: ['data'], title: 'copy node ids', callback: copyNodesToClipboard},\n  {revealOrder: 1, shortcut: 's', categories: ['nodes'], title: 'save', callback: saveActiveNodes},\n  {revealOrder: 1, shortcut: '<space>'},\n  {revealOrder: 1, shortcut: 'ArrowDown', categories: ['nodes'], shortcutName: '↓', title: 'fewer', callback: lessNodes},\n  {revealOrder: 1, shortcut: '<space>'},\n  {revealOrder: 1, shortcut: '\\\\', categories: ['data', 'cache'], title: 'reset interface', callback: resetInterface},\n];"],"names":["getAllLinks","toggleFocalPoint","button","nextStatus","clearCachedNodes","clearFixedPositions","forEachNode","node","fixPositions","lessNodes","amountToRemove","removeNodes","bonkVelocityDecay","moreNodes","generateNodes","getNextHref","nextParams","resetInterface","getNextUrlSearchParams","toggleMainMenu","toggleInterfaceDepthOptions","MAIN_MENU_OPTION","MINIMALISM_OPTION","STANDARD_OPTION","initialKeyStrokeOptions","toggleHotkeyMenu","nodes","getAllNodes","links","alpha","n","cx","cy","i","d","duplicateNode","removeAllNodes","removeAllLinks","setDocumentMode","clearActiveNodes","saveActiveNodes"],"mappings":"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"}